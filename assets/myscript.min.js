function submit_bd_login_form(d){var o;document.forms.bd_login_form.reportValidity()&&(o=new FormData,nonce=$(d).attr("data-nonce"),o.append("nonce",nonce),o.append("action","bd_login"),o.append("username",$("#bd_login_username").val()),o.append("password",$("#bd_login_password").val()),js_submit(o,submit_bd_login_callback,"#bd_login_success_box","#bd_login_danger_box"))}function submit_bd_login_callback(d){1==JSON.parse(d).success&&window.location.replace("http://localhost/wordpress")}function submit_bd_register_form(d){if(document.forms.bd_register_form.reportValidity()){phone_number=$("#bd_register_phone_number").val();var o=new RegExp(/^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$/);if(!(0==phone_number.length||9<phone_number.length&&phone_number.match(o)))return $("#bd_register_danger_box").show(),$("#bd_register_danger_box").html('<div class="fs-5">Please enter a valid phone number!</div>'),void $("#bd_register_danger_box").delay(3e3).fadeOut(500,function(){$(this).hide()});if((password=$("#bd_register_password").val())!==$("#bd_register_password_confirm").val())return $("#bd_register_danger_box").show(),$("#bd_register_danger_box").html('<div class="fs-5">Passwords don\'t match!</div>'),void $("#bd_register_danger_box").delay(3e3).fadeOut(500,function(){$(this).hide()});o=new FormData;nonce=$(d).attr("data-nonce"),o.append("nonce",nonce),o.append("action","bd_register"),o.append("username",$("#bd_register_username").val()),o.append("first_name",$("#bd_register_first_name").val()),o.append("last_name",$("#bd_register_last_name").val()),o.append("phone_number",phone_number),o.append("email",$("#bd_register_email").val()),o.append("address",$("#bd_register_address").val()),o.append("password",password),js_submit(o,submit_bd_register_callback,"#bd_register_success_box","#bd_register_danger_box")}}function submit_bd_register_callback(d){1==JSON.parse(d).success&&window.location.replace("http://localhost/wordpress")}function submit_bd_be_donor(d){var o;$("#bd_be_donor_form").length&&!document.forms.bd_be_donor_form.reportValidity()||$("#bd_create_donor_form").length&&!document.forms.bd_create_donor_form.reportValidity()||(o=new FormData,nonce=$(d).attr("data-nonce"),id=-1,$("#bd_create_donor_user_id").length&&(id=$("#bd_create_donor_user_id").val()),o.append("nonce",nonce),o.append("action","bd_be_donor"),o.append("id",id),o.append("blood_group",$("#bd_be_donor_bg").val()),js_submit(o,submit_bd_be_donor_callback,"#bd_admin_donor_success_div","#bd_admin_donor_danger_div"))}function submit_bd_be_donor_callback(d){var d=JSON.parse(d),o=d.success,d=d.message;1==o&&$("#bd_donors_table").length?$("#bd_donors_table").load(location.href+" #bd_donors_table"):1==o?location.reload():2==o&&alert(d)}function bd_cancel_donor(d){var o=new FormData;nonce=$(d).attr("data-nonce"),o.append("nonce",nonce),o.append("action","bd_cancel_donor"),o.append("donor_to_cancel",d.value),js_submit(o,submit_bd_cancel_donor_callback,"#bd_delete_donor_response_div_"+d.value,"#bd_cancel_donor_alert_box")}function submit_bd_cancel_donor_callback(d){var d=JSON.parse(d),o=d.success,_=d.message,d=d.id;1==o&&$("#bd_donors_table").length?$("#bd_remove_donor_"+d).remove():1==o?location.reload():2==o&&alert(_)}function submit_bd_tba_donation_submit_form(d){var o;document.forms.bd_tba_donation_form.reportValidity()&&(o=new FormData,nonce=$(d).attr("data-nonce"),o.append("nonce",nonce),o.append("action","bd_add_tba_donation"),o.append("amount_ml",$("#bd_tba_donation_amount_ml").val()),o.append("time",$("#bd_tba_donation_time").val()),js_submit(o,submit_bd_add_tba_donation_callback,"#bd_home_page_success_box","#bd_home_page_alert_box"))}function submit_bd_add_tba_donation_callback(d){1==JSON.parse(d).success&&$("#bd_tba_donations_table").load(location.href+" #bd_tba_donations_table")}function bd_delete_donation_submit(d){idToDelete=d.value;var o=new FormData;nonce=$(d).attr("data-nonce"),o.append("nonce",nonce),o.append("action","bd_delete_donation"),o.append("id_to_delete",idToDelete),js_submit(o,bd_delete_donation_callback,"#bd_delete_donation_response_div_"+idToDelete,"")}function bd_delete_donation_callback(d){var d=JSON.parse(d),o=d.success,_=d.message,d=d.id;1==o&&$("#bd_delete_donation_"+d).remove(),2==o&&alert(_)}function bd_approve_tba_donation_submit(d){idToApprove=d.value;var o=new FormData;nonce=$(d).attr("data-nonce"),o.append("nonce",nonce),o.append("action","bd_approve_tba_donation"),o.append("id_to_approve",idToApprove),js_submit(o,bd_approve_tba_donation_callback,"#bd_delete_donation_response_div_"+idToApprove,"#bd_admin_donation_danger_div")}function bd_approve_tba_donation_callback(d){var d=JSON.parse(d),o=d.success,d=d.id;1==o&&($("#bd_approved_donations_table").load(location.href+" #bd_approved_donations_table"),$("#bd_delete_donation_"+d).remove())}function bd_set_edit_donation_form(d){if("true"==$(d).attr("data-preset"))return bd_donation_id=$(d).attr("data-id"),bd_amount=$(d).attr("data-amount"),bd_time=$(d).attr("data-time"),bd_status=$(d).attr("data-status"),$("#bd_edit_donation_submit").attr("data-id",bd_donation_id),$("#bd_edit_donation_amount_ml").val(bd_amount),$("#bd_edit_donation_time").val(bd_time),$("#bd_edit_donation_status").val(bd_status),$("#bd_edit_donation_id_sec").hide(),$("#bd_edit_donation_donor_id_sec").hide(),$("#bd_edit_donation_id").attr("required",!1),void $("#bd_edit_donation_donor_id").attr("required",!1);$("#bd_edit_donation_submit").attr("data-id",-1),$("#bd_edit_donation_id").val(null).trigger("change"),$("#bd_edit_donation_donor_id").val(null).trigger("change"),$("#bd_edit_donation_amount_ml").val(null),$("#bd_edit_donation_time").val(null),$("#bd_edit_donation_status").val(null),$("#bd_edit_donation_id_sec").show(),$("#bd_edit_donation_donor_id_sec").show(),$("#bd_edit_donation_id").attr("required",!0),$("#bd_edit_donation_donor_id").attr("required",!0)}function bd_edit_donation_submit_from(d){var o;document.forms.bd_edit_donation_form.reportValidity()&&(o=new FormData,nonce=$(d).attr("data-nonce"),id_to_edit=$(d).attr("data-id"),(donor_id=-1)==id_to_edit&&(id_to_edit=$("#bd_edit_donation_id").val(),donor_id=$("#bd_edit_donation_donor_id").val()),o.append("nonce",nonce),o.append("action","bd_edit_donation"),o.append("id",id_to_edit),o.append("donor_id",donor_id),o.append("amount_ml",$("#bd_edit_donation_amount_ml").val()),o.append("time",$("#bd_edit_donation_time").val()),o.append("status",$("#bd_edit_donation_status").val()),js_submit(o,submit_bd_edit_donation_callback,"#bd_admin_donation_success_div","#bd_admin_donation_danger_div"))}function submit_bd_edit_donation_callback(d){1==JSON.parse(d).success&&($("#bd_approved_donations_table").load(location.href+" #bd_approved_donations_table"),$("#bd_to_be_accepted_donations_table").load(location.href+" #bd_to_be_accepted_donations_table"))}function bd_create_donation_submit_from(d){var o;document.forms.bd_create_donation_form.reportValidity()&&(o=new FormData,nonce=$(d).attr("data-nonce"),o.append("nonce",nonce),o.append("action","bd_create_donation"),o.append("donor_id",$("#bd_create_donation_donor_id").val()),o.append("amount_ml",$("#bd_create_donation_amount_ml").val()),o.append("time",$("#bd_create_donation_time").val()),o.append("status",$("#bd_create_donation_status").val()),js_submit(o,submit_bd_create_donation_callback,"#bd_admin_donation_success_div","#bd_admin_donation_danger_div"))}function submit_bd_create_donation_callback(d){1==JSON.parse(d).success&&($("#bd_approved_donations_table").load(location.href+" #bd_approved_donations_table"),$("#bd_to_be_accepted_donations_table").load(location.href+" #bd_to_be_accepted_donations_table"))}function get_donation(d){var o=new FormData;o.append("action","bd_get_donation"),o.append("id",d),js_submit(o,get_donation_callback,"","")}function get_donation_callback(d){var d=JSON.parse(d),o=d.success,_=d.donor_id,a=d.amount_ml,n=d.time,d=d.status;1==o&&($("#bd_edit_donation_donor_id").val(_).trigger("change"),$("#bd_edit_donation_amount_ml").val(a),$("#bd_edit_donation_time").val(n),$("#bd_edit_donation_status").val(d))}function bd_set_edit_donor_form(d){if("true"==$(d).attr("data-preset"))return donor_id=$(d).attr("data-id"),first_name=$(d).attr("data-fn"),last_name=$(d).attr("data-ln"),email=$(d).attr("data-email"),phone_number=$(d).attr("data-pn"),blood_group=$(d).attr("data-bg"),address=$(d).attr("data-address"),$("#bd_edit_donor_submit").attr("data-id",donor_id),$("#bd_edit_donor_first_name").val(first_name),$("#bd_edit_donor_last_name").val(last_name),$("#bd_edit_donor_email").val(email),$("#bd_edit_donor_phone_number").val(phone_number),$("#bd_edit_donor_blood_group").val(blood_group),$("#bd_edit_donor_address").val(address),$("#bd_edit_donor_id_sec").hide(),void $("#bd_edit_donor_id").attr("required",!1);$("#bd_edit_donor_submit").attr("data-id",-1),$("#bd_edit_donor_id").val(null).trigger("change"),$("#bd_edit_donor_first_name").val(null),$("#bd_edit_donor_last_name").val(null),$("#bd_edit_donor_email").val(null),$("#bd_edit_donor_phone_number").val(null),$("#bd_edit_donor_blood_group").val(null),$("#bd_edit_donor_address").val(null),$("#bd_edit_donor_id_sec").show(),$("#bd_edit_donor_id").attr("required",!0)}function bd_edit_donor_submit_from(d){var o;document.forms.bd_edit_donor_form.reportValidity()&&(o=new FormData,nonce=$(d).attr("data-nonce"),-1==(id_to_edit=$(d).attr("data-id"))&&(id_to_edit=$("#bd_edit_donor_id").val()),o.append("nonce",nonce),o.append("action","bd_edit_donor"),o.append("id",id_to_edit),o.append("first_name",$("#bd_edit_donor_first_name").val()),o.append("last_name",$("#bd_edit_donor_last_name").val()),o.append("email",$("#bd_edit_donor_email").val()),o.append("phone_number",$("#bd_edit_donor_phone_number").val()),o.append("blood_group",$("#bd_edit_donor_blood_group").val()),o.append("address",$("#bd_edit_donor_address").val()),js_submit(o,submit_bd_edit_donor_callback,"#bd_admin_donor_success_div","#bd_admin_donor_danger_div"))}function submit_bd_edit_donor_callback(d){1==JSON.parse(d).success&&$("#bd_donors_table").load(location.href+" #bd_donors_table")}function get_donor(d){var o=new FormData;o.append("action","bd_get_donor"),o.append("id",d),js_submit(o,get_donor_callback,"","")}function get_donor_callback(d){var d=JSON.parse(d),o=d.success,_=d.first_name,a=d.last_name,n=d.email,e=d.phone_number,t=d.blood_group,d=d.address;1==o&&($("#bd_edit_donor_first_name").val(_),$("#bd_edit_donor_last_name").val(a),$("#bd_edit_donor_email").val(n),$("#bd_edit_donor_phone_number").val(e),$("#bd_edit_donor_blood_group").val(t),$("#bd_edit_donor_address").val(d))}function js_submit(d,o,_,a){$.ajax({url:admin_url_object.ajaxurl,method:"post",data:d,contentType:!1,processData:!1,success:function(d){o(d),submit_callback(d,_,a)}})}function submit_callback(d,o,_){var d=JSON.parse(d),a=d.success,d=d.message;1==a&&($(o).show(),$(o).html('<div class="fs-6">'+d+"</div>"),$(o).delay(2500).fadeOut(500,function(){$(this).hide()})),2==a&&($(_).show(),$(_).html('<div class="fs-6">'+d+"</div>"),$(_).delay(2500).fadeOut(500,function(){$(this).hide()})),3==a&&window.location.replace("http://localhost/wordpress/login")}window.addEventListener("load",function(){$("#bd_edit_donation_id").select2({dropdownParent:$("#editDonationModal")}),$("#bd_edit_donation_donor_id").select2({dropdownParent:$("#editDonationModal")}),$("#bd_create_donation_donor_id").select2({dropdownParent:$("#createDonationModal")}),$("#bd_edit_donor_id").select2({dropdownParent:$("#editDonorModal")}),$("#bd_create_donor_user_id").select2({dropdownParent:$("#addDonorModal")}),$("#bd_edit_donation_id").on("select2:select",function(d){get_donation(d.params.data.id)}),$("#bd_edit_donor_id").on("select2:select",function(d){get_donor(d.params.data.id)})});