function submit_bd_login_form(e){var d;document.forms.bd_login_form.reportValidity()&&(d=new FormData,nonce=$(e).attr("data-nonce"),d.append("nonce",nonce),d.append("action","bd_login"),d.append("username",$("#bd_login_username").val()),d.append("password",$("#bd_login_password").val()),js_submit(d,submit_bd_login_callback))}function submit_bd_login_callback(e){var e=JSON.parse(e),d=e.success,e=e.message;$("#bd_login_alert_box").show(),$("#bd_login_alert_box").html('<div class="fs-5">'+e+"</div>"),$("#bd_login_alert_box").delay(3e3).fadeOut(500,function(){$(this).hide()}),1==d&&window.location.replace("http://localhost/wordpress")}function submit_bd_register_form(e){if(document.forms.bd_register_form.reportValidity()){phone_number=$("#bd_register_phone_number").val();var d=new RegExp(/^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$/);if(!(0==phone_number.length||9<phone_number.length&&phone_number.match(d)))return $("#bd_register_alert_box").show(),$("#bd_register_alert_box").html('<div class="fs-5">Please enter a valid phone number!</div>'),void $("#bd_register_alert_box").delay(3e3).fadeOut(500,function(){$(this).hide()});if((password=$("#bd_register_password").val())!==$("#bd_register_password_confirm").val())return $("#bd_register_alert_box").show(),$("#bd_register_alert_box").html('<div class="fs-5">Passwords don\'t match!</div>'),void $("#bd_register_alert_box").delay(3e3).fadeOut(500,function(){$(this).hide()});d=new FormData;nonce=$(e).attr("data-nonce"),d.append("nonce",nonce),d.append("action","bd_register"),d.append("username",$("#bd_register_username").val()),d.append("first_name",$("#bd_register_first_name").val()),d.append("last_name",$("#bd_register_last_name").val()),d.append("phone_number",phone_number),d.append("email",$("#bd_register_email").val()),d.append("address",$("#bd_register_address").val()),d.append("password",password),js_submit(d,submit_bd_register_callback)}}function submit_bd_register_callback(e){var e=JSON.parse(e),d=e.success,o=e.message;e.color;$("#bd_register_alert_box").show(),$("#bd_register_alert_box").html('<div class="fs-5">'+o+"</div>"),$("#bd_register_alert_box").delay(3e3).fadeOut(500,function(){$(this).hide()}),1==d&&window.location.replace("http://localhost/wordpress")}function submit_add_donor_form(e){if(!document.forms.add_donor_form.reportValidity())return $("#add_donor_response_div").show(),$("#add_donor_response_div").html("Please fill out all the required fields!"),$("#add_donor_response_div").css("background-color","#f56565"),$("#add_donor_response_div").css("padding","5px 15px"),void $("#add_donor_response_div").delay(3e3).fadeOut(500,function(){$(this).hide()});var d=new FormData;nonce=$(e).attr("data-nonce"),d.append("nonce",nonce),d.append("action","add_donor"),d.append("first_name",$("#first_name").val()),d.append("last_name",$("#last_name").val()),d.append("blood_group",$("#blood_group").val()),d.append("phone_number",$("#phone_number").val()),d.append("email",$("#email").val()),d.append("address",$("#address").val()),js_submit(d,submit_add_donor_callback)}function submit_add_donor_callback(e){var e=JSON.parse(e),d=e.success,o=e.message,e=e.color;$("#add_donor_response_div").show(),$("#add_donor_response_div").html(o),$("#add_donor_response_div").css("background-color",e),$("#add_donor_response_div").css("padding","5px 15px"),$("#add_donor_response_div").delay(3e3).fadeOut(500,function(){$(this).hide()}),1==d&&$("#donors-table").length&&$("#donors-table").load(location.href+" #donors-table")}function submit_add_donation_form(e){if(!document.forms.add_donation_form.reportValidity())return $("#add_donation_response_div").show(),$("#add_donation_response_div").html("Please fill out all the required fields!"),$("#add_donation_response_div").css("background-color","#f56565"),$("#add_donation_response_div").css("padding","5px 15px"),void $("#add_donation_response_div").delay(3e3).fadeOut(500,function(){$(this).hide()});var d=new FormData;nonce=$(e).attr("data-nonce"),d.append("nonce",nonce),d.append("action","add_donation"),d.append("donor_id",$("#donor_id").val()),d.append("amount_ml",$("#amount_ml").val()),d.append("time",$("#time").val()),d.append("status",$("#status").val()),js_submit(d,submit_add_donation_callback)}function submit_add_donation_callback(e){var e=JSON.parse(e),d=e.success,o=e.message,e=e.color;$("#add_donation_response_div").show(),$("#add_donation_response_div").html(o),$("#add_donation_response_div").css("background-color",e),$("#add_donation_response_div").css("padding","5px 15px"),$("#add_donation_response_div").delay(3e3).fadeOut(500,function(){$(this).hide()}),1==d&&$("#donations-table").length&&$("#donations-table").load(location.href+" #donations-table")}function fill_donor_details(){var e=new FormData;e.append("action","get_donor"),e.append("id",$("#ud_id").val()),js_submit(e,fill_donor_details_callback)}function fill_donor_details_callback(e){var e=JSON.parse(e),d=e.success,o=e.message;2==d&&cantFindDonor(o),1==d&&($("#ud_first_name").val(e.first_name),$("#ud_last_name").val(e.last_name),$("#ud_blood_group").val(e.blood_group),$("#ud_phone_number").val(e.phone_number),$("#ud_email").val(e.email),$("#ud_address").val(e.address))}function fill_donation_details(){var e=new FormData;e.append("action","get_donation"),e.append("id",$("#donation_id").val()),js_submit(e,fill_donation_details_callback)}function fill_donation_details_callback(e){var e=JSON.parse(e),d=e.success,o=e.message;2==d&&($("#update_donation_response_div").show(),$("#update_donation_response_div").html(o),$("#update_donation_response_div").css("background-color","#f56565"),$("#update_donation_response_div").css("padding","5px 15px"),$("#update_donation_response_div").delay(3e3).fadeOut(500,function(){$(this).hide()}),$("#ud_donor_id").val(""),$("#ud_amount_ml").val(""),$("#ud_time").val(""),$("#ud_status").val("")),1==d&&($("#ud_donor_id").val(e.donor_id),$("#ud_amount_ml").val(e.amount_ml),$("#ud_time").val(e.time),$("#ud_status").val(e.status))}function submit_update_donor_form(e){if(!document.forms.update_donor_form.reportValidity())return $("#update_donor_response_div").show(),$("#update_donor_response_div").html("Please fill out all the required fields!"),$("#update_donor_response_div").css("background-color","#f56565"),$("#update_donor_response_div").css("padding","5px 15px"),void $("#update_donor_response_div").delay(3e3).fadeOut(500,function(){$(this).hide()});var d=new FormData;nonce=$(e).attr("data-nonce"),d.append("nonce",nonce),d.append("action","update_donor"),d.append("id",$("#ud_id").val()),d.append("first_name",$("#ud_first_name").val()),d.append("last_name",$("#ud_last_name").val()),d.append("blood_group",$("#ud_blood_group").val()),d.append("phone_number",$("#ud_phone_number").val()),d.append("email",$("#ud_email").val()),d.append("address",$("#ud_address").val()),js_submit(d,update_donor_callback)}function update_donor_callback(e){var e=JSON.parse(e),d=e.success,o=e.message,e=e.color;$("#update_donor_response_div").show(),$("#update_donor_response_div").html(o),$("#update_donor_response_div").css("background-color",e),$("#update_donor_response_div").css("padding","5px 15px"),$("#update_donor_response_div").delay(3e3).fadeOut(500,function(){$(this).hide()}),1==d&&$("#donors-table").length&&($("#donors-table").load(location.href+" #donors-table"),$("#ud_id").load(location.href+" #ud_id"))}function submit_update_donation_form(e){if(!document.forms.update_donation_form.reportValidity())return $("#update_donation_response_div").show(),$("#update_donation_response_div").html("Please fill out all the required fields!"),$("#update_donation_response_div").css("background-color","#f56565"),$("#update_donation_response_div").css("padding","5px 15px"),void $("#update_donation_response_div").delay(3e3).fadeOut(500,function(){$(this).hide()});var d=new FormData;nonce=$(e).attr("data-nonce"),d.append("nonce",nonce),d.append("action","update_donation"),d.append("id",$("#donation_id").val()),d.append("donor_id",$("#ud_donor_id").val()),d.append("amount_ml",$("#ud_amount_ml").val()),d.append("time",$("#ud_time").val()),d.append("status",$("#ud_status").val()),js_submit(d,update_donation_callback)}function update_donation_callback(e){var e=JSON.parse(e),d=e.success,o=e.message,e=e.color;$("#update_donation_response_div").show(),$("#update_donation_response_div").html(o),$("#update_donation_response_div").css("background-color",e),$("#update_donation_response_div").css("padding","5px 15px"),$("#update_donation_response_div").delay(3e3).fadeOut(500,function(){$(this).hide()}),1==d&&$("#donations-table").length&&$("#donations-table").load(location.href+" #donations-table")}function delete_donor(e){var d=new FormData;idToDelete=e.value,nonce=$(e).attr("data-nonce"),d.append("nonce",nonce),d.append("action","delete_donor"),d.append("id_to_delete",idToDelete),js_submit(d,delete_donor_callback)}function delete_donor_callback(e){var e=JSON.parse(e),d=e.success,o=e.message,n=e.color,e=e.id;1==d?($("#delete_donor_response_div_"+e).show(),$("#delete_donor_response_div_"+e).children().css("background-color",n),$("#delete_donor_response_div_"+e).children().children().html(o),$("#delete_donor_"+e).remove(),$("#delete_donor_response_div_"+e).delay(2e3).fadeOut(500,function(){$(this).remove()})):2==d&&alert(o)}function delete_donation(e){idToDelete=e.value;var d=new FormData;nonce=$(e).attr("data-nonce"),d.append("nonce",nonce),d.append("action","delete_donation"),d.append("id_to_delete",idToDelete),js_submit(d,delete_donation_callback)}function delete_donation_callback(e){var e=JSON.parse(e),d=e.success,o=e.message,n=e.color,e=e.id;1==d?($("#delete_donation_response_div_"+e).show(),$("#delete_donation_response_div_"+e).children().css("background-color",n),$("#delete_donation_response_div_"+e).children().children().html(o),$("#delete_donation_"+e).remove(),$("#delete_donation_response_div_"+e).delay(2e3).fadeOut(500,function(){$(this).remove()})):2==d&&alert(o)}function cantFindDonor(e){$("#update_donor_response_div").show(),$("#update_donor_response_div").html(e),$("#update_donor_response_div").css("background-color","#f56565"),$("#update_donor_response_div").css("padding","5px 15px"),$("#update_donor_response_div").delay(3e3).fadeOut(500,function(){$(this).hide()}),$("#ud_first_name").val(""),$("#ud_last_name").val(""),$("#ud_blood_group").val(""),$("#ud_phone_number").val(""),$("#ud_email").val(""),$("#ud_address").val("")}function js_submit(e,d){$.ajax({url:admin_url_object.ajaxurl,method:"post",data:e,contentType:!1,processData:!1,success:function(e){d(e)}})}window.addEventListener("load",function(){var d=document.querySelectorAll("ul.nav-tabs > li");for(let e=0;e<d.length;e++)d[e].addEventListener("click",o);function o(e){e.preventDefault(),document.querySelector("ul.nav-tabs li.active").classList.remove("active"),document.querySelector(".tab-pane.active").classList.remove("active");var d=e.currentTarget,e=e.target.getAttribute("href");d.classList.add("active"),document.querySelector(e).classList.add("active")}$("#ud_id").length&&$("#ud_id").change(function(){""!=$("#ud_id").val()&&fill_donor_details()}),$("#ud_id").select2({placeholder:"Select an option"}),$("#donation_id").length&&$("#donation_id").change(function(){""!=$("#donation_id").val()&&fill_donation_details()}),$("#donation_id").select2({placeholder:"Select an option"})});