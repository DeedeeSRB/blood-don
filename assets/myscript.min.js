function submit_bd_login_form(d){var a;document.forms.bd_login_form.reportValidity()&&(a=new FormData,nonce=$(d).attr("data-nonce"),a.append("nonce",nonce),a.append("action","bd_login"),a.append("username",$("#bd_login_username").val()),a.append("password",$("#bd_login_password").val()),js_submit(a,submit_bd_login_callback,"#bd_login_success_box","#bd_login_danger_box"))}function submit_bd_login_callback(d){1==JSON.parse(d).success&&window.location.replace("http://localhost/wordpress")}function submit_bd_register_form(d){if(document.forms.bd_register_form.reportValidity()){phone_number=$("#bd_register_phone_number").val();var a=new RegExp(/^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$/);if(!(0==phone_number.length||9<phone_number.length&&phone_number.match(a)))return $("#bd_register_danger_box").show(),$("#bd_register_danger_box").html('<div class="fs-5">Please enter a valid phone number!</div>'),void $("#bd_register_danger_box").delay(3e3).fadeOut(500,function(){$(this).hide()});if((password=$("#bd_register_password").val())!==$("#bd_register_password_confirm").val())return $("#bd_register_danger_box").show(),$("#bd_register_danger_box").html('<div class="fs-5">Passwords don\'t match!</div>'),void $("#bd_register_danger_box").delay(3e3).fadeOut(500,function(){$(this).hide()});a=new FormData;nonce=$(d).attr("data-nonce"),a.append("nonce",nonce),a.append("action","bd_register"),a.append("username",$("#bd_register_username").val()),a.append("first_name",$("#bd_register_first_name").val()),a.append("last_name",$("#bd_register_last_name").val()),a.append("phone_number",phone_number),a.append("email",$("#bd_register_email").val()),a.append("address",$("#bd_register_address").val()),a.append("password",password),js_submit(a,submit_bd_register_callback,"#bd_register_success_box","#bd_register_danger_box")}}function submit_bd_register_callback(d){1==JSON.parse(d).success&&window.location.replace("http://localhost/wordpress")}function submit_bd_be_donor(d){var a;document.forms.bd_be_donor_form.reportValidity()&&(a=new FormData,nonce=$(d).attr("data-nonce"),a.append("nonce",nonce),a.append("action","bd_be_donor"),a.append("blood_group",$("#bd_be_donor_bg").val()),js_submit(a,submit_bd_be_donor_callback,"","#bd_be_donor_alert_box"))}function submit_bd_be_donor_callback(d){1==JSON.parse(d).success&&location.reload()}function bd_cancel_donor(d){var a=new FormData;nonce=$(d).attr("data-nonce"),a.append("nonce",nonce),a.append("action","bd_cancel_donor"),a.append("donor_to_cancel",d.value),js_submit(a,submit_bd_cancel_donor_callback,"","#bd_cancel_donor_alert_box")}function submit_bd_cancel_donor_callback(d){var d=JSON.parse(d),a=d.success,d=d.message;1==a&&($("#bd_approved_donors_table").length?$("#bd_approved_donors_table").load(location.href+" #bd_approved_donors_table"):location.reload()),2==a&&alert(d)}function submit_bd_tba_donation_submit_form(d){var a;document.forms.bd_tba_donation_form.reportValidity()&&(a=new FormData,nonce=$(d).attr("data-nonce"),a.append("nonce",nonce),a.append("action","bd_add_tba_donation"),a.append("amount_ml",$("#bd_tba_donation_amount_ml").val()),a.append("time",$("#bd_tba_donation_time").val()),js_submit(a,submit_bd_add_tba_donation_callback,"#bd_home_page_success_box","#bd_home_page_alert_box"))}function submit_bd_add_tba_donation_callback(d){1==JSON.parse(d).success&&$("#bd_tba_donations_table").load(location.href+" #bd_tba_donations_table")}function bd_delete_donation_submit(d){idToDelete=d.value;var a=new FormData;nonce=$(d).attr("data-nonce"),a.append("nonce",nonce),a.append("action","bd_delete_donation"),a.append("id_to_delete",idToDelete),js_submit(a,bd_delete_donation_callback,"#bd_delete_donation_response_div_"+idToDelete,"")}function bd_delete_donation_callback(d){var d=JSON.parse(d),a=d.success,o=d.message,d=d.id;1==a&&$("#bd_delete_donation_"+d).remove(),2==a&&alert(o)}function bd_approve_tba_donation_submit(d){idToApprove=d.value;var a=new FormData;nonce=$(d).attr("data-nonce"),a.append("nonce",nonce),a.append("action","bd_approve_tba_donation"),a.append("id_to_approve",idToApprove),js_submit(a,bd_approve_tba_donation_callback,"#bd_delete_donation_response_div_"+idToApprove,"#bd_admin_donation_danger_div")}function bd_approve_tba_donation_callback(d){var d=JSON.parse(d),a=d.success,d=d.id;1==a&&($("#bd_approved_donations_table").load(location.href+" #bd_approved_donations_table"),$("#bd_delete_donation_"+d).remove())}function bd_set_edit_donation_form(d){if("true"==$(d).attr("data-preset"))return bd_donation_id=$(d).attr("data-id"),bd_amount=$(d).attr("data-amount"),bd_time=$(d).attr("data-time"),bd_status=$(d).attr("data-status"),$("#bd_edit_donation_submit").attr("data-id",bd_donation_id),$("#bd_edit_donation_amount_ml").val(bd_amount),$("#bd_edit_donation_time").val(bd_time),$("#bd_edit_donation_status").val(bd_status),$("#bd_edit_donation_id_sec").hide(),$("#bd_edit_donation_donor_id_sec").hide(),$("#bd_edit_donation_id").attr("required",!1),void $("#bd_edit_donation_donor_id").attr("required",!1);console.log("test"),$("#bd_edit_donation_submit").attr("data-id",-1),$("#bd_edit_donation_id").val(null).trigger("change"),$("#bd_edit_donation_donor_id").val(null).trigger("change"),$("#bd_edit_donation_amount_ml").val(null),$("#bd_edit_donation_time").val(null),$("#bd_edit_donation_status").val(null),$("#bd_edit_donation_id_sec").show(),$("#bd_edit_donation_donor_id_sec").show(),$("#bd_edit_donation_id").attr("required",!0),$("#bd_edit_donation_donor_id").attr("required",!0)}function bd_edit_donation_submit_from(d){var a;document.forms.bd_edit_donation_form.reportValidity()&&(a=new FormData,nonce=$(d).attr("data-nonce"),id_to_edit=$(d).attr("data-id"),(donor_id=-1)==id_to_edit&&(id_to_edit=$("#bd_edit_donation_id").val(),donor_id=$("#bd_edit_donation_donor_id").val()),a.append("nonce",nonce),a.append("action","bd_edit_donation"),a.append("id",id_to_edit),a.append("donor_id",donor_id),a.append("amount_ml",$("#bd_edit_donation_amount_ml").val()),a.append("time",$("#bd_edit_donation_time").val()),a.append("status",$("#bd_edit_donation_status").val()),js_submit(a,submit_bd_edit_donation_callback,"#bd_admin_donation_success_div","#bd_admin_donation_danger_div"))}function submit_bd_edit_donation_callback(d){1==JSON.parse(d).success&&($("#bd_approved_donations_table").load(location.href+" #bd_approved_donations_table"),$("#bd_to_be_accepted_donations_table").load(location.href+" #bd_to_be_accepted_donations_table"))}function bd_create_donation_submit_from(d){var a;document.forms.bd_create_donation_form.reportValidity()&&(a=new FormData,nonce=$(d).attr("data-nonce"),a.append("nonce",nonce),a.append("action","bd_create_donation"),a.append("donor_id",$("#bd_create_donation_donor_id").val()),a.append("amount_ml",$("#bd_create_donation_amount_ml").val()),a.append("time",$("#bd_create_donation_time").val()),a.append("status",$("#bd_create_donation_status").val()),js_submit(a,submit_bd_create_donation_callback,"#bd_admin_donation_success_div","#bd_admin_donation_danger_div"))}function submit_bd_create_donation_callback(d){1==JSON.parse(d).success&&($("#bd_approved_donations_table").load(location.href+" #bd_approved_donations_table"),$("#bd_to_be_accepted_donations_table").load(location.href+" #bd_to_be_accepted_donations_table"))}function get_donation(d){var a=new FormData;a.append("action","bd_get_donation"),a.append("id",d),js_submit(a,get_donation_callback,"","")}function get_donation_callback(d){var d=JSON.parse(d),a=d.success,o=d.donor_id,n=d.amount_ml,t=d.time,d=d.status;1==a&&($("#bd_edit_donation_donor_id").val(o).trigger("change"),$("#bd_edit_donation_amount_ml").val(n),$("#bd_edit_donation_time").val(t),$("#bd_edit_donation_status").val(d))}function js_submit(d,a,o,n){$.ajax({url:admin_url_object.ajaxurl,method:"post",data:d,contentType:!1,processData:!1,success:function(d){a(d),submit_callback(d,o,n)}})}function submit_callback(d,a,o){var d=JSON.parse(d),n=d.success,d=d.message;1==n&&($(a).show(),$(a).html('<div class="fs-6">'+d+"</div>"),$(a).delay(2e3).fadeOut(500,function(){$(this).hide()})),2==n&&($(o).show(),$(o).html('<div class="fs-6">'+d+"</div>"),$(o).delay(2e3).fadeOut(500,function(){$(this).hide()})),3==n&&window.location.replace("http://localhost/wordpress/login")}window.addEventListener("load",function(){$("#bd_edit_donation_id").select2({dropdownParent:$("#editDonationModal")}),$("#bd_edit_donation_donor_id").select2({dropdownParent:$("#editDonationModal"),width:"resolve"}),$("#bd_create_donation_donor_id").select2({dropdownParent:$("#createDonationModal"),width:"resolve"}),$("#bd_edit_donation_id").on("select2:select",function(d){get_donation(d.params.data.id)})});