function submit_add_donor_form(){if(!document.forms.add_donor_form.reportValidity())return $("#add_donor_response_div").show(),$("#add_donor_response_div").html("Please fill out all the required fields!"),$("#add_donor_response_div").css("background-color","#f56565"),$("#add_donor_response_div").css("padding","5px 15px"),void $("#add_donor_response_div").delay(3e3).fadeOut(500,function(){$(this).hide()});var e=new FormData;e.append("donorFormSubmit","1"),e.append("first_name",$("#first_name").val()),e.append("last_name",$("#last_name").val()),e.append("blood_group",$("#blood_group").val()),e.append("phone_number",$("#phone_number").val()),e.append("email",$("#email").val()),e.append("address",$("#address").val()),js_submit(e,submit_add_donor_callback,"http://localhost/wordpress/wp-content/plugins/blood-don/templates/process/add-donor-process.php")}function submit_add_donor_callback(e){var e=JSON.parse(e),o=e.success,d=e.message,e=e.color;$("#add_donor_response_div").show(),$("#add_donor_response_div").html(d),$("#add_donor_response_div").css("background-color",e),$("#add_donor_response_div").css("padding","5px 15px"),$("#add_donor_response_div").delay(3e3).fadeOut(500,function(){$(this).hide()}),1==o&&$("#donors-table").length&&$("#donors-table").load(location.href+" #donors-table")}function fill_donor_details(){get_donor($("#ud_id").val(),fill_donor_details_callback)}function fill_donor_details_callback(e){var e=JSON.parse(e),o=e.success,d=e.message;2==o&&cantFindDonor(d),1==o&&($("#ud_first_name").val(e.first_name),$("#ud_last_name").val(e.last_name),$("#ud_blood_group").val(e.blood_group),$("#ud_phone_number").val(e.phone_number),$("#ud_email").val(e.email),$("#ud_address").val(e.address))}function submit_update_donor_form(){if(!document.forms.update_donor_form.reportValidity())return $("#update_donor_response_div").show(),$("#update_donor_response_div").html("Please fill out all the required fields!"),$("#update_donor_response_div").css("background-color","#f56565"),$("#update_donor_response_div").css("padding","5px 15px"),void $("#update_donor_response_div").delay(3e3).fadeOut(500,function(){$(this).hide()});get_donor($("#ud_id").val(),get_update_donor_callback)}function get_update_donor_callback(e){var e=JSON.parse(e),o=e.success,d=e.message,e=e.id;2==o&&cantFindDonor(d),1==o&&((d=new FormData).append("updateDonorForm","1"),d.append("id",e),d.append("first_name",$("#ud_first_name").val()),d.append("last_name",$("#ud_last_name").val()),d.append("blood_group",$("#ud_blood_group").val()),d.append("phone_number",$("#ud_phone_number").val()),d.append("email",$("#ud_email").val()),d.append("address",$("#ud_address").val()),js_submit(d,update_donor_callback,"http://localhost/wordpress/wp-content/plugins/blood-don/templates/process/update-donor-process.php"))}function update_donor_callback(e){var e=JSON.parse(e),o=e.success,d=e.message,e=e.color;$("#update_donor_response_div").show(),$("#update_donor_response_div").html(d),$("#update_donor_response_div").css("background-color",e),$("#update_donor_response_div").css("padding","5px 15px"),$("#update_donor_response_div").delay(3e3).fadeOut(500,function(){$(this).hide()}),1==o&&$("#donors-table").length&&$("#donors-table").load(location.href+" #donors-table")}function delete_donor(e){idToDelete=e.value;e=new FormData;e.append("deleteDonorSubmit","1"),e.append("id_to_delete",idToDelete),js_submit(e,delete_donor_callback,"http://localhost/wordpress/wp-content/plugins/blood-don/templates/process/delete-donor-process.php")}function delete_donor_callback(e){var e=JSON.parse(e),o=e.success,d=e.message,a=e.color,e=e.id;1==o?($("#delete_donor_response_div_"+e).show(),$("#delete_donor_response_div_"+e).children().css("background-color",a),$("#delete_donor_response_div_"+e).children().children().html(d),$("#delete_donor_"+e).remove(),$("#delete_donor_response_div_"+e).delay(2e3).fadeOut(500,function(){$(this).remove()})):2==o&&alert(d)}function get_donor(e,o){var d=new FormData;d.append("getDonorForm","1"),d.append("id",e),js_submit(d,o,"http://localhost/wordpress/wp-content/plugins/blood-don/templates/process/get-donor-process.php")}function cantFindDonor(e){$("#update_donor_response_div").show(),$("#update_donor_response_div").html(e),$("#update_donor_response_div").css("background-color","#f56565"),$("#update_donor_response_div").css("padding","5px 15px"),$("#update_donor_response_div").delay(3e3).fadeOut(500,function(){$(this).hide()}),$("#ud_first_name").val(""),$("#ud_last_name").val(""),$("#ud_blood_group").val(""),$("#ud_phone_number").val(""),$("#ud_email").val(""),$("#ud_address").val("")}function js_submit(e,o,d){$.ajax({url:d,type:"post",data:e,contentType:!1,processData:!1,success:function(e){o(e)}})}window.addEventListener("load",function(){var o=document.querySelectorAll("ul.nav-tabs > li");for(let e=0;e<o.length;e++)o[e].addEventListener("click",d);function d(e){e.preventDefault(),document.querySelector("ul.nav-tabs li.active").classList.remove("active"),document.querySelector(".tab-pane.active").classList.remove("active");var o=e.currentTarget,e=e.target.getAttribute("href");o.classList.add("active"),document.querySelector(e).classList.add("active")}$("#ud_id").change(function(){""!=$("#ud_id").val()&&fill_donor_details()})});